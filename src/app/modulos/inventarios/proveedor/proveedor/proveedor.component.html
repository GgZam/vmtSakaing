<div class="grid">
    <div class="col-12">
        <div class="text-900 font-bold text-6xl mb-4 text-left">Proveedor</div>
        <div class="card">
            <h5>Lista de Proveedores</h5>
            <p-table [value]="proveedores" [loading]="loading">
                <ng-template pTemplate="caption">
                    <div class="flex justify-content-between flex-column sm:flex-row">
                        <button pButton label="Nuevo proveedor" class="p-button mb-2" icon="pi pi-plus" (click)="dialogNuevoProveedor()"></button>
                        <span class="p-input-icon-left mb-2">
                            <i class="pi pi-search"></i>
                            <input pInputText type="text" #filter placeholder="Buscar proveedor" class="w-full" />
                        </span>
                    </div>
                </ng-template>
                <ng-template pTemplate="header">
                    <tr>
                        <th>N</th>
                        <th>Nombre</th>
                        <th>RUC</th>
                        <th>Raz√≥n Social</th>
                        <th>Ciudad</th>
                        <th>Estado</th>
                        <th colspan="2">Acciones</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowIndex="rowIndex" let-proveedor>
                    <tr>
                        <td>{{ rowIndex + 1 }}</td>
                        <td>{{ proveedor.nombre }}</td>
                        <td>{{ proveedor.ruc }}</td>
                        <td>{{ proveedor.razon }}</td>
                        <td>{{ proveedor.ciudad }}</td>
                        <td>{{ proveedor.estado == 'activo' ? 'Activo' : 'Inactivo' }}</td>
                        <td>
                            <button class="m-2" pButton icon="pi pi-pencil" (click)="editarProveedor(proveedor)"></button>
                            <button class="m-2" pButton icon="pi pi-trash" severity="danger"></button>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="7">No hay proveedores registrados.</td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="loadingbody">
                    <tr>
                        <td colspan="7">Cargando proveedores...</td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
<app-dialogproveedor #dialogoProveedor (datosProveedor)="guardarProveedor($event)"></app-dialogproveedor>
<p-toast position="top-left"></p-toast>
